# 使用 Cursor 完成网站开发的完整指南

本文档提供了使用 Cursor AI 编辑器完成网站开发的系统化步骤和最佳实践。

## 第一阶段：项目规划与准备

### 1. 明确项目需求
- [ ] 确定网站类型（企业官网、电商平台、管理系统、博客等）
- [ ] 列出核心功能清单
- [ ] 确定目标用户群体
- [ ] 明确技术栈选择（前端框架、后端框架、数据库等）
- [ ] 评估项目规模和开发周期

**Cursor 操作：**
- 使用 Cursor 创建 `docs/requirements.md` 文件
- 使用 AI 助手帮助整理和完善需求文档
- 让 AI 根据需求推荐合适的技术栈

### 2. 创建项目结构
- [ ] 初始化项目仓库（Git）
- [ ] 选择并配置项目脚手架
- [ ] 设置项目目录结构
- [ ] 配置代码规范（ESLint, Prettier）
- [ ] 创建 README.md 文档

**Cursor 操作：**
```
# 在 Cursor 中使用 AI 命令
"创建一个 [技术栈] 项目，包含前后端分离的目录结构"
"配置 ESLint 和 Prettier 规则"
"生成项目 README 文档"
```

### 3. 设计数据库架构
- [ ] 设计实体关系图（ER 图）
- [ ] 定义数据表结构
- [ ] 规划表之间的关系（一对一、一对多、多对多）
- [ ] 创建数据库迁移文件
- [ ] 编写种子数据

**Cursor 操作：**
```
"根据需求设计数据库表结构"
"创建 TypeORM/Prisma 的 Entity 定义"
"生成数据库迁移文件"
```

## 第二阶段：后端开发

### 4. 搭建后端框架
- [ ] 安装依赖包
- [ ] 配置环境变量（.env）
- [ ] 设置数据库连接
- [ ] 配置日志系统
- [ ] 实现全局异常处理

**Cursor 操作：**
```
"创建 NestJS/Express 项目的基础配置"
"实现全局异常过滤器和响应拦截器"
"配置数据库连接和 ORM"
```

### 5. 实现用户认证系统
- [ ] 创建用户模型（User Entity）
- [ ] 实现注册功能（密码加密）
- [ ] 实现登录功能（JWT 认证）
- [ ] 实现刷新 Token 机制
- [ ] 添加权限守卫（Guards）
- [ ] 实现密码重置功能

**Cursor 操作：**
```
"实现基于 JWT 的用户认证系统"
"创建用户注册和登录的 DTO 和 Controller"
"实现密码加密和验证"
```

### 6. 开发核心业务模块
- [ ] 根据需求创建各个业务模块
- [ ] 编写 Controller（控制器）
- [ ] 编写 Service（业务逻辑）
- [ ] 创建 DTO（数据传输对象）
- [ ] 实现数据验证
- [ ] 编写单元测试

**Cursor 操作：**
```
"为 [模块名] 创建完整的 CRUD 接口"
"生成 DTO 和数据验证规则"
"编写 Service 层的业务逻辑"
```

### 7. 实现 API 接口
- [ ] 设计 RESTful API 规范
- [ ] 实现分页功能
- [ ] 添加搜索和过滤功能
- [ ] 实现文件上传功能
- [ ] 配置 CORS
- [ ] 添加 API 文档（Swagger）

**Cursor 操作：**
```
"为所有接口生成 Swagger 文档"
"实现通用的分页和排序功能"
"添加文件上传中间件"
```

### 8. 优化后端性能
- [ ] 添加数据库索引
- [ ] 实现缓存策略（Redis）
- [ ] 优化 SQL 查询（避免 N+1 问题）
- [ ] 实现接口限流
- [ ] 添加请求日志

**Cursor 操作：**
```
"优化数据库查询性能"
"实现 Redis 缓存策略"
"添加接口限流中间件"
```

## 第三阶段：前端开发

### 9. 搭建前端项目
- [ ] 创建前端项目（React/Vue/Angular）
- [ ] 配置路由系统
- [ ] 设置状态管理（Redux/Vuex/NgRx）
- [ ] 配置 UI 组件库（Ant Design/Material UI）
- [ ] 设置 HTTP 客户端（Axios）
- [ ] 配置代理和环境变量

**Cursor 操作：**
```
"创建 React + TypeScript + Vite 项目"
"配置 React Router 和 Redux Toolkit"
"集成 Ant Design 组件库"
```

### 10. 实现认证功能
- [ ] 创建登录页面
- [ ] 创建注册页面
- [ ] 实现 Token 存储（localStorage/Cookie）
- [ ] 实现自动刷新 Token
- [ ] 创建路由守卫（Protected Routes）
- [ ] 实现自动登出

**Cursor 操作：**
```
"创建登录和注册页面组件"
"实现 JWT Token 的存储和管理"
"创建路由守卫保护私有页面"
```

### 11. 开发核心页面
- [ ] 创建主布局组件（Header, Sidebar, Footer）
- [ ] 实现导航菜单
- [ ] 开发各个业务页面
- [ ] 实现表单组件
- [ ] 实现表格组件（CRUD）
- [ ] 添加加载状态和错误处理

**Cursor 操作：**
```
"创建响应式的主布局组件"
"实现 [功能] 页面的 CRUD 操作"
"创建可复用的表单和表格组件"
```

### 12. 集成后端 API
- [ ] 创建 API Service 层
- [ ] 实现请求拦截器（添加 Token）
- [ ] 实现响应拦截器（错误处理）
- [ ] 连接所有页面与后端接口
- [ ] 实现数据状态管理
- [ ] 处理异步请求状态（loading/error）

**Cursor 操作：**
```
"创建 API Service 封装所有后端接口"
"实现 Axios 拦截器处理认证和错误"
"连接 Redux 与 API 调用"
```

### 13. 优化用户体验
- [ ] 添加加载动画
- [ ] 实现错误提示（Toast/Notification）
- [ ] 添加表单验证提示
- [ ] 实现响应式设计（移动端适配）
- [ ] 优化页面性能（懒加载、代码分割）
- [ ] 添加页面过渡动画

**Cursor 操作：**
```
"优化页面性能，实现组件懒加载"
"添加全局的消息提示组件"
"实现响应式布局适配移动端"
```

## 第四阶段：测试

### 14. 编写测试用例
- [ ] 编写后端单元测试（Jest）
- [ ] 编写后端集成测试
- [ ] 编写前端单元测试（React Testing Library）
- [ ] 编写前端组件测试
- [ ] 编写 E2E 测试（Cypress/Playwright）
- [ ] 检查测试覆盖率

**Cursor 操作：**
```
"为 [Service/Component] 生成单元测试"
"创建 E2E 测试脚本"
"生成测试覆盖率报告"
```

### 15. 执行测试和修复
- [ ] 运行所有测试用例
- [ ] 修复失败的测试
- [ ] 进行手动测试
- [ ] 测试边界情况
- [ ] 性能测试
- [ ] 安全测试

**Cursor 操作：**
```
"修复测试中发现的 Bug"
"优化性能瓶颈"
```

## 第五阶段：部署上线

### 16. 准备部署环境
- [ ] 选择部署平台（AWS/阿里云/Vercel）
- [ ] 配置生产环境变量
- [ ] 设置 CI/CD 流程（GitHub Actions）
- [ ] 配置域名和 SSL 证书
- [ ] 准备数据库（生产环境）
- [ ] 配置服务器安全策略

**Cursor 操作：**
```
"创建 GitHub Actions 自动部署配置"
"生成生产环境的配置文件"
"创建 Dockerfile 和 docker-compose.yml"
```

### 17. 构建和部署
- [ ] 构建前端生产版本
- [ ] 构建后端生产版本
- [ ] 上传代码到服务器
- [ ] 运行数据库迁移
- [ ] 启动后端服务
- [ ] 部署前端静态文件
- [ ] 配置 Nginx 反向代理

**Cursor 操作：**
```
"生成生产环境构建脚本"
"创建部署文档"
```

### 18. 上线后监控
- [ ] 配置日志收集
- [ ] 设置错误监控（Sentry）
- [ ] 配置性能监控
- [ ] 设置健康检查
- [ ] 配置自动备份
- [ ] 创建运维文档

**Cursor 操作：**
```
"集成 Sentry 错误监控"
"实现健康检查接口"
"创建运维和监控文档"
```

## 第六阶段：持续优化

### 19. 收集反馈并迭代
- [ ] 收集用户反馈
- [ ] 分析用户行为数据
- [ ] 优化功能和性能
- [ ] 修复线上 Bug
- [ ] 添加新功能
- [ ] 更新文档

### 20. 维护和升级
- [ ] 定期更新依赖包
- [ ] 修复安全漏洞
- [ ] 优化代码质量
- [ ] 重构老旧代码
- [ ] 进行技术债务清理

## Cursor AI 使用技巧

### 1. 使用 Chat 模式快速开发
- **Cmd/Ctrl + L**: 打开 AI Chat
- 描述清楚你想要实现的功能
- 让 AI 生成代码或解释现有代码

### 2. 使用 Composer 模式进行复杂开发
- **Cmd/Ctrl + I**: 打开 Composer
- 适合多文件、多步骤的复杂任务
- AI 会自动规划和执行多个操作

### 3. 使用代码编辑功能
- 选中代码后按 **Cmd/Ctrl + K**
- 描述你想要的修改
- AI 会直接修改代码

### 4. 利用上下文感知
- Cursor 会自动读取当前打开的文件
- 提到 "当前文件" 或 "这个组件" 时 AI 能理解
- 可以使用 `@文件名` 引用特定文件

### 5. 提示词最佳实践
- 明确描述需求和约束条件
- 指定技术栈和框架版本
- 提供示例或参考
- 分步骤描述复杂任务

### 6. 代码审查和重构
```
"审查这段代码的安全性"
"重构这个组件，提高可维护性"
"优化这个函数的性能"
"添加错误处理"
```

### 7. 生成测试和文档
```
"为这个函数生成单元测试"
"为这个 API 生成文档"
"解释这段代码的作用"
```

## 常见问题和解决方案

### 问题 1: AI 生成的代码不符合项目规范
**解决方案:**
- 创建 `.cursorrules` 文件定义项目规范
- 在提示词中明确提到规范要求
- 使用 ESLint 和 Prettier 自动格式化

### 问题 2: AI 不理解项目上下文
**解决方案:**
- 使用 `@文件名` 引用相关文件
- 在 Chat 中提供更多背景信息
- 让 AI 先阅读项目结构

### 问题 3: 生成的代码有 Bug
**解决方案:**
- 仔细审查生成的代码
- 编写测试验证功能
- 让 AI 解释代码逻辑
- 分步骤生成，每步验证

### 问题 4: 不知道如何提问
**解决方案:**
- 从小功能开始
- 参考本指南的示例提示词
- 先让 AI 生成计划，再执行
- 逐步细化需求

## 项目检查清单

### 代码质量
- [ ] 代码遵循项目规范
- [ ] 没有 ESLint 错误
- [ ] 所有函数都有类型定义
- [ ] 复杂逻辑有注释
- [ ] 没有硬编码的配置
- [ ] 敏感信息使用环境变量

### 功能完整性
- [ ] 所有需求功能已实现
- [ ] 用户认证和授权正常工作
- [ ] 数据验证完整
- [ ] 错误处理完善
- [ ] 表单验证友好
- [ ] 响应式设计正常

### 性能优化
- [ ] 数据库查询优化
- [ ] 实现了必要的缓存
- [ ] 前端代码分割和懒加载
- [ ] 图片和资源优化
- [ ] API 响应时间合理
- [ ] 页面加载速度快

### 安全性
- [ ] 所有 API 有权限验证
- [ ] 密码加密存储
- [ ] 防止 SQL 注入
- [ ] 防止 XSS 攻击
- [ ] 防止 CSRF 攻击
- [ ] 配置了 CORS

### 测试覆盖
- [ ] 单元测试覆盖率 > 80%
- [ ] 核心功能有集成测试
- [ ] 关键流程有 E2E 测试
- [ ] 所有测试通过

### 文档完整性
- [ ] README 文档完整
- [ ] API 文档完整
- [ ] 安装和部署文档
- [ ] 代码注释充分
- [ ] 架构文档

## 总结

使用 Cursor 进行网站开发的核心优势：
1. **快速原型开发** - AI 能快速生成基础代码框架
2. **智能代码补全** - 根据上下文提供精确建议
3. **自动化重复任务** - 批量生成相似代码
4. **代码质量提升** - AI 辅助审查和重构
5. **学习效率提升** - 实时解释和教学

记住，AI 是辅助工具，最终的代码质量和架构决策仍需要开发者的专业判断。始终审查 AI 生成的代码，确保其符合项目需求和最佳实践。

---

**文档版本:** 1.0  
**最后更新:** 2025-10-18  
**适用范围:** 全栈 Web 应用开发

